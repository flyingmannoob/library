{"remainingRequest":"E:\\Study\\D1\\暑期实训\\大作业\\lib\\frontend\\node_modules\\babel-loader\\lib\\index.js!E:\\Study\\D1\\暑期实训\\大作业\\lib\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\Study\\D1\\暑期实训\\大作业\\lib\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Study\\D1\\暑期实训\\大作业\\lib\\frontend\\src\\views\\books\\create.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\Study\\D1\\暑期实训\\大作业\\lib\\frontend\\src\\views\\books\\create.vue","mtime":1756955712218},{"path":"E:\\Study\\D1\\暑期实训\\大作业\\lib\\frontend\\babel.config.js","mtime":1756907620051},{"path":"E:\\Study\\D1\\暑期实训\\大作业\\lib\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1756907623548},{"path":"E:\\Study\\D1\\暑期实训\\大作业\\lib\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1756907622480},{"path":"E:\\Study\\D1\\暑期实训\\大作业\\lib\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1756907623548},{"path":"E:\\Study\\D1\\暑期实训\\大作业\\lib\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1756907637626}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvciBmcm9tICJFOi9TdHVkeS9EMS9cdTY2OTFcdTY3MUZcdTVCOUVcdThCQUQvXHU1OTI3XHU0RjVDXHU0RTFBL2xpYi9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcmVnZW5lcmF0b3IuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRTovU3R1ZHkvRDEvXHU2NjkxXHU2NzFGXHU1QjlFXHU4QkFEL1x1NTkyN1x1NEY1Q1x1NEUxQS9saWIvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwoKaW1wb3J0IHsgY3JlYXRlQm9vaywgZ2V0Q2F0ZWdvcmllcyB9IGZyb20gJ0AvYXBpL2Jvb2snOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0NyZWF0ZUJvb2snLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBib29rRm9ybTogewogICAgICAgIHRpdGxlOiAnJywKICAgICAgICBhdXRob3I6ICcnLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBjYXRlZ29yeUlkOiBudWxsCiAgICAgIH0sCiAgICAgIGNhdGVnb3JpZXM6IFtdLAogICAgICBjYXRlZ29yaWVzTG9hZGluZzogZmFsc2UsCiAgICAgIHN1Ym1pdExvYWRpbmc6IGZhbHNlLAogICAgICBydWxlczogewogICAgICAgIHRpdGxlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5Zu+5Lmm5qCH6aKYJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH0sIHsKICAgICAgICAgIG1heDogMjAwLAogICAgICAgICAgbWVzc2FnZTogJ+agh+mimOmVv+W6puS4jeiDvei2hei/hzIwMOS4quWtl+espicsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBhdXRob3I6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXkvZzogIXlp5PlkI0nLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfSwgewogICAgICAgICAgbWF4OiAxMDAsCiAgICAgICAgICBtZXNzYWdlOiAn5L2c6ICF5aeT5ZCN6ZW/5bqm5LiN6IO96LaF6L+HMTAw5Liq5a2X56ymJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIGNhdGVnb3J5SWQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fpgInmi6nlm77kuabliIbnsbsnLAogICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgICB9XSwKICAgICAgICBkZXNjcmlwdGlvbjogW3sKICAgICAgICAgIG1heDogMTAwMCwKICAgICAgICAgIG1lc3NhZ2U6ICfmj4/ov7Dplb/luqbkuI3og73otoXov4cxMDAw5Liq5a2X56ymJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5sb2FkQ2F0ZWdvcmllcygpOwogIH0sCiAgbWV0aG9kczogewogICAgLy8g5Yqg6L295YiG57G75YiX6KGoCiAgICBsb2FkQ2F0ZWdvcmllczogZnVuY3Rpb24gbG9hZENhdGVnb3JpZXMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcigvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yKCkubShmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXNwb25zZSwgX3Q7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvcigpLncoZnVuY3Rpb24gKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wID0gX2NvbnRleHQubikgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQucCA9IDA7CiAgICAgICAgICAgICAgX3RoaXMuY2F0ZWdvcmllc0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgIC8vIOWwneivleS7jkFQSeiOt+WPluWIhuexuwogICAgICAgICAgICAgIF9jb250ZXh0Lm4gPSAxOwogICAgICAgICAgICAgIHJldHVybiBnZXRDYXRlZ29yaWVzKCk7CiAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0LnY7CiAgICAgICAgICAgICAgX3RoaXMuY2F0ZWdvcmllcyA9IHJlc3BvbnNlLmRhdGEgfHwgW107CgogICAgICAgICAgICAgIC8vIOWmguaenEFQSei/lOWbnueahOaVsOaNruS4uuepuu+8jOS9v+eUqOm7mOiupOWIhuexuwogICAgICAgICAgICAgIGlmIChfdGhpcy5jYXRlZ29yaWVzLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgX3RoaXMudXNlRGVmYXVsdENhdGVnb3JpZXMoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgX2NvbnRleHQubiA9IDM7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBfY29udGV4dC5wID0gMjsKICAgICAgICAgICAgICBfdCA9IF9jb250ZXh0LnY7CiAgICAgICAgICAgICAgY29uc29sZS53YXJuKCfku45BUEnliqDovb3liIbnsbvlpLHotKXvvIzkvb/nlKjpu5jorqTliIbnsbs6JywgX3QubWVzc2FnZSk7CiAgICAgICAgICAgICAgLy8gQVBJ6LCD55So5aSx6LSl5pe25L2/55So6buY6K6k5YiG57G7CiAgICAgICAgICAgICAgX3RoaXMudXNlRGVmYXVsdENhdGVnb3JpZXMoKTsKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIF9jb250ZXh0LnAgPSAzOwogICAgICAgICAgICAgIF90aGlzLmNhdGVnb3JpZXNMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmYoMyk7CiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYSgyKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzAsIDIsIDMsIDRdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOS9v+eUqOm7mOiupOWIhuexu+aVsOaNrgogICAgdXNlRGVmYXVsdENhdGVnb3JpZXM6IGZ1bmN0aW9uIHVzZURlZmF1bHRDYXRlZ29yaWVzKCkgewogICAgICB0aGlzLmNhdGVnb3JpZXMgPSBbewogICAgICAgIGlkOiAxLAogICAgICAgIG5hbWU6ICdGaWN0aW9uJwogICAgICB9LCB7CiAgICAgICAgaWQ6IDIsCiAgICAgICAgbmFtZTogJ05vbi1maWN0aW9uJwogICAgICB9LCB7CiAgICAgICAgaWQ6IDMsCiAgICAgICAgbmFtZTogJ1NjaWVuY2UnCiAgICAgIH0sIHsKICAgICAgICBpZDogNCwKICAgICAgICBuYW1lOiAnSGlzdG9yeScKICAgICAgfSwgewogICAgICAgIGlkOiA1LAogICAgICAgIG5hbWU6ICdUZWNobm9sb2d5JwogICAgICB9XTsKICAgICAgdGhpcy4kbWVzc2FnZS5pbmZvKCflt7LliqDovb3pu5jorqTliIbnsbvmlbDmja4nKTsKICAgIH0sCiAgICAvLyDmj5DkuqTooajljZUKICAgIHN1Ym1pdEZvcm06IGZ1bmN0aW9uIHN1Ym1pdEZvcm0oKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICB0aGlzLiRyZWZzWydib29rRm9ybSddLnZhbGlkYXRlKC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvcigvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yKCkubShmdW5jdGlvbiBfY2FsbGVlMih2YWxpZCkgewogICAgICAgICAgdmFyIF90MjsKICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IoKS53KGZ1bmN0aW9uIChfY29udGV4dDIpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQyLnAgPSBfY29udGV4dDIubikgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghdmFsaWQpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm4gPSA2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wID0gMTsKICAgICAgICAgICAgICAgIF90aGlzMi5zdWJtaXRMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVCb29rKF90aGlzMi5ib29rRm9ybSk7CiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLnN1Y2Nlc3MoJ+WbvuS5puWIm+W7uuaIkOWKn++8gScpOwogICAgICAgICAgICAgICAgX3RoaXMyLiRyb3V0ZXIucHVzaCgnL2Jvb2tzL2xpc3QnKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uID0gNDsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wID0gMzsKICAgICAgICAgICAgICAgIF90MiA9IF9jb250ZXh0Mi52OwogICAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLmVycm9yKCfliJvlu7rlpLHotKU6ICcgKyAoX3QyLm1lc3NhZ2UgfHwgJ+acjeWKoeWZqOmUmeivrycpKTsKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucCA9IDQ7CiAgICAgICAgICAgICAgICBfdGhpczIuc3VibWl0TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5mKDQpOwogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uID0gNzsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS53YXJuaW5nKCfor7fmo4Dmn6XooajljZXloavlhpnmmK/lkKbmraPnoa4nKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYSgyLCBmYWxzZSk7CiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hKDIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1sxLCAzLCA0LCA1XV0pOwogICAgICAgIH0pKTsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH07CiAgICAgIH0oKSk7CiAgICB9LAogICAgLy8g6YeN572u6KGo5Y2VCiAgICByZXNldEZvcm06IGZ1bmN0aW9uIHJlc2V0Rm9ybSgpIHsKICAgICAgdGhpcy4kcmVmc1snYm9va0Zvcm0nXS5yZXNldEZpZWxkcygpOwogICAgICB0aGlzLiRtZXNzYWdlLmluZm8oJ+ihqOWNleW3sumHjee9ricpOwogICAgfSwKICAgIC8vIOi/lOWbnuS4iumhtQogICAgZ29CYWNrOiBmdW5jdGlvbiBnb0JhY2soKSB7CiAgICAgIHRoaXMuJHJvdXRlci5nbygtMSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["createBook","getCategories","name","data","bookForm","title","author","description","categoryId","categories","categoriesLoading","submitLoading","rules","required","message","trigger","max","created","loadCategories","methods","_this","_asyncToGenerator","_regenerator","m","_callee","response","_t","w","_context","p","n","v","length","useDefaultCategories","console","warn","f","a","id","$message","info","submitForm","_this2","$refs","validate","_ref","_callee2","valid","_t2","_context2","success","$router","push","error","warning","_x","apply","arguments","resetForm","resetFields","goBack","go"],"sources":["src/views/books/create.vue"],"sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <div class=\"create-book-container\">\r\n      <!-- 页面标题 -->\r\n      <div class=\"page-header\">\r\n        <div class=\"page-header-content\">\r\n          <i class=\"el-icon-plus\"></i>\r\n          <h1>添加新图书</h1>\r\n          <p>填写图书信息，丰富图书馆藏书</p>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 表单卡片 -->\r\n      <el-card class=\"form-card\" shadow=\"always\">\r\n        <div slot=\"header\" class=\"card-header\">\r\n          <i class=\"el-icon-document\"></i>\r\n          <span>图书信息</span>\r\n        </div>\r\n\r\n        <el-form\r\n          ref=\"bookForm\"\r\n          :model=\"bookForm\"\r\n          :rules=\"rules\"\r\n          label-width=\"120px\"\r\n          class=\"book-form\"\r\n          label-position=\"left\"\r\n        >\r\n          <el-row :gutter=\"20\">\r\n            <el-col :span=\"12\">\r\n              <el-form-item label=\"图书标题\" prop=\"title\">\r\n                <el-input\r\n                  v-model=\"bookForm.title\"\r\n                  placeholder=\"请输入图书标题\"\r\n                  prefix-icon=\"el-icon-reading\"\r\n                  clearable\r\n                  maxlength=\"200\"\r\n                  show-word-limit\r\n                />\r\n              </el-form-item>\r\n            </el-col>\r\n\r\n            <el-col :span=\"12\">\r\n              <el-form-item label=\"作者\" prop=\"author\">\r\n                <el-input\r\n                  v-model=\"bookForm.author\"\r\n                  placeholder=\"请输入作者姓名\"\r\n                  prefix-icon=\"el-icon-user-solid\"\r\n                  clearable\r\n                  maxlength=\"100\"\r\n                  show-word-limit\r\n                />\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n\r\n          <el-row :gutter=\"20\">\r\n            <el-col :span=\"24\">\r\n              <el-form-item label=\"图书分类\" prop=\"categoryId\">\r\n                <el-select\r\n                  v-model=\"bookForm.categoryId\"\r\n                  placeholder=\"请选择图书分类\"\r\n                  filterable\r\n                  style=\"width: 100%\"\r\n                  :loading=\"categoriesLoading\"\r\n                >\r\n                  <el-option\r\n                    v-for=\"category in categories\"\r\n                    :key=\"category.id\"\r\n                    :label=\"category.name\"\r\n                    :value=\"category.id\"\r\n                  >\r\n                    <span style=\"float: left\">{{ category.name }}</span>\r\n                    <span style=\"float: right; color: #8492a6; font-size: 13px\">ID: {{ category.id }}</span>\r\n                  </el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n\r\n          <el-row :gutter=\"20\">\r\n            <el-col :span=\"24\">\r\n              <el-form-item label=\"图书描述\" prop=\"description\">\r\n                <el-input\r\n                  v-model=\"bookForm.description\"\r\n                  type=\"textarea\"\r\n                  placeholder=\"请输入图书描述，包括内容简介、特色等\"\r\n                  :rows=\"6\"\r\n                  maxlength=\"1000\"\r\n                  show-word-limit\r\n                  resize=\"vertical\"\r\n                />\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n\r\n          <!-- 操作按钮 -->\r\n          <el-form-item class=\"form-actions\">\r\n            <el-button\r\n              type=\"primary\"\r\n              @click=\"submitForm\"\r\n              :loading=\"submitLoading\"\r\n              icon=\"el-icon-check\"\r\n              size=\"medium\"\r\n            >\r\n              {{ submitLoading ? '创建中...' : '创建图书' }}\r\n            </el-button>\r\n            <el-button\r\n              @click=\"resetForm\"\r\n              icon=\"el-icon-refresh\"\r\n              size=\"medium\"\r\n            >\r\n              重置表单\r\n            </el-button>\r\n            <el-button\r\n              @click=\"goBack\"\r\n              icon=\"el-icon-back\"\r\n              size=\"medium\"\r\n              plain\r\n            >\r\n              返回列表\r\n            </el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </el-card>\r\n\r\n      <!-- 提示信息卡片 -->\r\n      <el-card class=\"tips-card\" shadow=\"hover\">\r\n        <div slot=\"header\" class=\"card-header\">\r\n          <i class=\"el-icon-warning\"></i>\r\n          <span>填写提示</span>\r\n        </div>\r\n        <ul class=\"tips-list\">\r\n          <li><i class=\"el-icon-circle-check\"></i>图书标题不能超过200个字符</li>\r\n          <li><i class=\"el-icon-circle-check\"></i>作者姓名不能超过100个字符</li>\r\n          <li><i class=\"el-icon-circle-check\"></i>请选择合适的图书分类</li>\r\n          <li><i class=\"el-icon-circle-check\"></i>图书描述可以包含内容简介、特色亮点等</li>\r\n        </ul>\r\n      </el-card>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { createBook, getCategories } from '@/api/book'\r\n\r\nexport default {\r\n  name: 'CreateBook',\r\n  data() {\r\n    return {\r\n      bookForm: {\r\n        title: '',\r\n        author: '',\r\n        description: '',\r\n        categoryId: null\r\n      },\r\n      categories: [],\r\n      categoriesLoading: false,\r\n      submitLoading: false,\r\n      rules: {\r\n        title: [\r\n          { required: true, message: '请输入图书标题', trigger: 'blur' },\r\n          { max: 200, message: '标题长度不能超过200个字符', trigger: 'blur' }\r\n        ],\r\n        author: [\r\n          { required: true, message: '请输入作者姓名', trigger: 'blur' },\r\n          { max: 100, message: '作者姓名长度不能超过100个字符', trigger: 'blur' }\r\n        ],\r\n        categoryId: [\r\n          { required: true, message: '请选择图书分类', trigger: 'change' }\r\n        ],\r\n        description: [\r\n          { max: 1000, message: '描述长度不能超过1000个字符', trigger: 'blur' }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.loadCategories()\r\n  },\r\n  methods: {\r\n    // 加载分类列表\r\n    async loadCategories() {\r\n      try {\r\n        this.categoriesLoading = true\r\n        // 尝试从API获取分类\r\n        const response = await getCategories()\r\n        this.categories = response.data || []\r\n\r\n        // 如果API返回的数据为空，使用默认分类\r\n        if (this.categories.length === 0) {\r\n          this.useDefaultCategories()\r\n        }\r\n      } catch (error) {\r\n        console.warn('从API加载分类失败，使用默认分类:', error.message)\r\n        // API调用失败时使用默认分类\r\n        this.useDefaultCategories()\r\n      } finally {\r\n        this.categoriesLoading = false\r\n      }\r\n    },\r\n\r\n    // 使用默认分类数据\r\n    useDefaultCategories() {\r\n      this.categories = [\r\n        { id: 1, name: 'Fiction' },\r\n        { id: 2, name: 'Non-fiction' },\r\n        { id: 3, name: 'Science' },\r\n        { id: 4, name: 'History' },\r\n        { id: 5, name: 'Technology' }\r\n      ]\r\n      this.$message.info('已加载默认分类数据')\r\n    },\r\n\r\n    // 提交表单\r\n    submitForm() {\r\n      this.$refs['bookForm'].validate(async (valid) => {\r\n        if (valid) {\r\n          try {\r\n            this.submitLoading = true\r\n            await createBook(this.bookForm)\r\n            this.$message.success('图书创建成功！')\r\n            this.$router.push('/books/list')\r\n          } catch (error) {\r\n            this.$message.error('创建失败: ' + (error.message || '服务器错误'))\r\n          } finally {\r\n            this.submitLoading = false\r\n          }\r\n        } else {\r\n          this.$message.warning('请检查表单填写是否正确')\r\n          return false\r\n        }\r\n      })\r\n    },\r\n\r\n    // 重置表单\r\n    resetForm() {\r\n      this.$refs['bookForm'].resetFields()\r\n      this.$message.info('表单已重置')\r\n    },\r\n\r\n    // 返回上页\r\n    goBack() {\r\n      this.$router.go(-1)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.create-book-container {\r\n  max-width: 1000px;\r\n  margin: 0 auto;\r\n  padding: 20px;\r\n}\r\n\r\n.page-header {\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  border-radius: 12px;\r\n  padding: 30px;\r\n  margin-bottom: 24px;\r\n  color: white;\r\n  box-shadow: 0 8px 32px rgba(102, 126, 234, 0.3);\r\n}\r\n\r\n.page-header-content {\r\n  text-align: center;\r\n}\r\n\r\n.page-header i {\r\n  font-size: 48px;\r\n  margin-bottom: 16px;\r\n  opacity: 0.9;\r\n}\r\n\r\n.page-header h1 {\r\n  font-size: 32px;\r\n  font-weight: 600;\r\n  margin: 0 0 8px 0;\r\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.page-header p {\r\n  font-size: 16px;\r\n  margin: 0;\r\n  opacity: 0.9;\r\n}\r\n\r\n.form-card {\r\n  margin-bottom: 24px;\r\n  border-radius: 12px;\r\n  overflow: hidden;\r\n}\r\n\r\n.form-card >>> .el-card__header {\r\n  background: #f8f9ff;\r\n  border-bottom: 2px solid #e6e8ff;\r\n}\r\n\r\n.card-header {\r\n  display: flex;\r\n  align-items: center;\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  color: #2c3e50;\r\n}\r\n\r\n.card-header i {\r\n  margin-right: 8px;\r\n  font-size: 20px;\r\n  color: #667eea;\r\n}\r\n\r\n.book-form {\r\n  padding: 20px;\r\n}\r\n\r\n.book-form >>> .el-form-item__label {\r\n  color: #2c3e50;\r\n  font-weight: 500;\r\n}\r\n\r\n.book-form >>> .el-input__inner,\r\n.book-form >>> .el-textarea__inner {\r\n  border-radius: 8px;\r\n  border: 2px solid #e6e8ff;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.book-form >>> .el-input__inner:focus,\r\n.book-form >>> .el-textarea__inner:focus {\r\n  border-color: #667eea;\r\n  box-shadow: 0 0 0 2px rgba(102, 126, 234, 0.1);\r\n}\r\n\r\n.book-form >>> .el-select {\r\n  width: 100%;\r\n}\r\n\r\n.form-actions {\r\n  text-align: center;\r\n  margin-top: 32px;\r\n  padding-top: 24px;\r\n  border-top: 1px solid #e6e8ff;\r\n}\r\n\r\n.form-actions >>> .el-button {\r\n  border-radius: 8px;\r\n  padding: 12px 24px;\r\n  font-weight: 500;\r\n  margin: 0 8px;\r\n}\r\n\r\n.form-actions >>> .el-button--primary {\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  border: none;\r\n  box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);\r\n}\r\n\r\n.form-actions >>> .el-button--primary:hover {\r\n  box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);\r\n  transform: translateY(-2px);\r\n}\r\n\r\n.tips-card {\r\n  border-radius: 12px;\r\n  border-left: 4px solid #67c23a;\r\n}\r\n\r\n.tips-card >>> .el-card__header {\r\n  background: #f0f9ff;\r\n  border-bottom: 1px solid #e1f5fe;\r\n}\r\n\r\n.tips-list {\r\n  margin: 0;\r\n  padding: 0;\r\n  list-style: none;\r\n}\r\n\r\n.tips-list li {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 8px 0;\r\n  color: #606266;\r\n  font-size: 14px;\r\n}\r\n\r\n.tips-list li i {\r\n  color: #67c23a;\r\n  margin-right: 8px;\r\n  font-size: 16px;\r\n}\r\n\r\n/* 响应式设计 */\r\n@media (max-width: 768px) {\r\n  .create-book-container {\r\n    padding: 16px;\r\n  }\r\n\r\n  .page-header {\r\n    padding: 20px;\r\n  }\r\n\r\n  .page-header h1 {\r\n    font-size: 24px;\r\n  }\r\n\r\n  .page-header i {\r\n    font-size: 36px;\r\n  }\r\n\r\n  .book-form {\r\n    padding: 16px;\r\n  }\r\n}\r\n\r\n/* 动画效果 */\r\n.form-card,\r\n.tips-card {\r\n  animation: fadeInUp 0.6s ease-out;\r\n}\r\n\r\n.page-header {\r\n  animation: fadeInDown 0.6s ease-out;\r\n}\r\n\r\n@keyframes fadeInUp {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(30px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n}\r\n\r\n@keyframes fadeInDown {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(-30px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]}]}